# rye:signed:2026-02-12T23:55:37Z:2657ae9d5019ad16755e368b7ab63ee17a2181775b808d397edb8572fcbad5bd:uVmkAmLgq0pFR6D-U1CB7_DBiIrfyp2ejppsRx5Ri2R9Nc_g0X-qOuNzybqYGEfVCJdGMGWwFodNeex2NeMTBA==:440443d0858f0199
version: "1.0.0"
tool_type: runtime
executor_id: rye/core/primitives/subprocess
category: rye/core/runtimes
description: "MCP stdio runtime - executes MCP tools via stdio transport"

env_config:
  interpreter:
    type: venv_python
    var: RYE_PYTHON
    fallback: python3
  env:
    PYTHONUNBUFFERED: "1"

config:
  command: "${RYE_PYTHON}"
  args:
    - "{system_space}/tools/rye/core/mcp/connect.py"
    - "--server-config"
    - "{server_config_path}"
    - "--tool"
    - "{tool_name}"
    - "--params"
    - "{params_json}"
    - "--project-path"
    - "{project_path}"
  timeout: 60

config_schema:
  type: object
  properties:
    server:
      type: string
      description: "Relative tool ID to server config (e.g., mcp/servers/rye-os)"
    tool_name:
      type: string
      description: MCP tool name to call
    timeout:
      type: number
      description: Execution timeout in seconds
      default: 60
  required: [server, tool_name]
